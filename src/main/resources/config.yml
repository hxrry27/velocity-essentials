# VelocityEssentials Configuration

# Database settings
database:
  type: "sqlite" # DO NOT CHANGE

# ===== SERVER MEMORY SETTINGS =====
server-memory:
  enabled: true
  fallback-server: "lobby"
  first-join-server: "lobby"
  remember-days: 30  
  # Servers that should not be remembered (temp servers, event servers, etc)
  blacklisted-servers:
    - "event"
    - "temp"
  bypass-permission: "velocityessentials.bypass"

# ===== CHAT RELAY SETTINGS =====
chat:
  # server display name mapping maps internal velocity server names to display names for chat
  server-display-names:
    lobby: "Lobby"
    server1: "Server 1"
    server2: "Server 2"
  show-server-tag: true
  server-tag-format: "<gray>[<aqua>{server}</aqua>]</gray>"

# ===== DISCORD SETTINGS =====
discord:
  enabled: false
  webhook-url: ""
  username: "VelocityEssentials"
  avatar-url: ""
  show-first-time: true
  first-time-server: "lobby"
  show-afk: true
  
  # discord chat relay (separate from in-game chat relay above)
  chat-relay: true
  use-player-head-for-chat: true
  chat-show-server: false
  chat-server-format: "[{server}]"
  
  # permission-based prefixes for discord
  chat-prefixes:
    "group.owner": "**Owner**"
    "group.admin": "**Admin**"
    "group.moderator": "**Mod**"
    "group.helper": "**Helper**"
    "group.vip+": "**VIP+**"
    "group.vip": "**VIP**"
    "group.supporter": "**Supporter**"
    "velocityessentials.prefix.developer": "**Dev**"
    "velocityessentials.prefix.builder": "**Builder**"

# ===== IN-GAME NETWORK MESSAGES =====
messages:
  custom-enabled: true
  show-join: true
  show-leave: true
  show-switch: true
  show-first-time: true
  suppress-vanilla: true
  prefix: "<gray>[<aqua>VE<gray>]</aqua>"
  
  # message templates (using minimessage)
  no-permission: "{prefix} <red>You don't have permission!"
  sending-to-last-server: "{prefix} <green>Sending you to your last server: <yellow>{server}"
  sending-to-fallback: "{prefix} <yellow>Sending you to the fallback server"
  first-join: "{prefix} <green>Welcome to the network!"

# ===== STATS SYSTEM =====
stats:
  enabled: true
  update-interval: 30
  servers:
    survival: "/path/to/your/survival/world/stats"
    resource: "/path/to/your/resource/world/stats"
  
  api:
    enabled: true
    port: 8080
    bind: "0.0.0.0"
    auth-key: "stats-key-2025-change-this"
  
  awards:
    process-locally: true
    calculation-interval: 60
    categories:
      - "time"
      - "distance"
      - "mining"
      - "building"
      - "combat"
      - "survival"
      - "fishing"
      - "farming"
      - "exploration"

# ===== EVENTS SYSTEM =====
events:
  enabled: true
  default-duration: 7
  max-active-events: 3
  permissions:
    create: "velocityessentials.events.create"
    manage: "velocityessentials.events.manage"
    view: "velocityessentials.events.view"
    admin: "velocityessentials.events.admin"

# ===== AUTO-RESTART SYSTEM =====
auto-restart:
  enabled: true
  timezone: "UTC"
  delay-check-interval: 60
  
  schedules:
    daily-restart:
      enabled: true
      servers:
        - "smp"
        - "resource"
      time: "04:00"
      days: ["*"]
      min-players-delay: 5
      warnings:
        intervals: [300, 180, 60, 30, 10]
        sound: "ENTITY_EXPERIENCE_ORB_PICKUP"
      commands:
        before:
          - delay: 10
            command: "save-all"
            target: "server"
          - delay: 5
            command: "kickall §cServer restarting..."
            target: "server"
        after:
          - delay: 30
            command: "say Server has restarted!"
            target: "server"
    
    weekly-maintenance:
      enabled: false
      servers:
        - "smp"
        - "resource"
        - "creative"
      time: "12:00"
      days: ["SUNDAY"]
      min-players-delay: 3
      warnings:
        intervals: [600, 300, 180, 60, 30, 10]
        sound: "ENTITY_WITHER_SPAWN"
      commands:
        before:
          - delay: 30
            command: "save-all"
            target: "server"
          - delay: 10
            command: "kickall §6Weekly Maintenance - Back in 5 minutes!"
            target: "server"
        after:
          - delay: 60
            command: "say §a§lMaintenance complete! Thanks for your patience."
            target: "server"

# Debug mode
debug: false